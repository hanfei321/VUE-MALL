define(["./defaultValue-bcb5baf7","./DeveloperError-b273b01a","./Check-f9a1a1be","./Math-588d98f6","./Cartesian2-10213add","./Rectangle-de996bfb","./Transforms-2b063051","./Matrix4-c981b715","./RuntimeError-1b5fbc4d","./WebGLConstants-667a4a5e","./ComponentDatatype-ec1abf38","./GeometryAttribute-49fe2445","./when-ae2a7552","./buildModuleUrl-cd6b3599","./GeometryAttributes-a8cf4ac9","./Plane-bb97f210","./VertexFormat-15410d3c","./FrustumGeometry-2c6c5952"],function(o,e,t,r,c,a,m,n,u,i,d,f,s,p,h,g,l,_){"use strict";var k=0,b=1;function y(e){var t,r,a=e.frustum,n=e.orientation,u=e.origin,e=o.defaultValue(e._drawNearPlane,!0);a instanceof _.PerspectiveFrustum?(t=k,r=_.PerspectiveFrustum.packedLength):a instanceof _.OrthographicFrustum&&(t=b,r=_.OrthographicFrustum.packedLength),this._frustumType=t,this._frustum=a.clone(),this._origin=c.Cartesian3.clone(u),this._orientation=m.Quaternion.clone(n),this._drawNearPlane=e,this._workerName="createFrustumOutlineGeometry",this.packedLength=2+r+c.Cartesian3.packedLength+m.Quaternion.packedLength}y.pack=function(e,t,r){r=o.defaultValue(r,0);var a=e._frustumType,n=e._frustum;return(t[r++]=a)===k?(_.PerspectiveFrustum.pack(n,t,r),r+=_.PerspectiveFrustum.packedLength):(_.OrthographicFrustum.pack(n,t,r),r+=_.OrthographicFrustum.packedLength),c.Cartesian3.pack(e._origin,t,r),r+=c.Cartesian3.packedLength,m.Quaternion.pack(e._orientation,t,r),t[r+=m.Quaternion.packedLength]=e._drawNearPlane?1:0,t};var v=new _.PerspectiveFrustum,F=new _.OrthographicFrustum,w=new m.Quaternion,P=new c.Cartesian3;return y.unpack=function(e,t,r){t=o.defaultValue(t,0);var a,n=e[t++];n===k?(a=_.PerspectiveFrustum.unpack(e,t,v),t+=_.PerspectiveFrustum.packedLength):(a=_.OrthographicFrustum.unpack(e,t,F),t+=_.OrthographicFrustum.packedLength);var u=c.Cartesian3.unpack(e,t,P);t+=c.Cartesian3.packedLength;var i=m.Quaternion.unpack(e,t,w),e=1===e[t+=m.Quaternion.packedLength];if(!o.defined(r))return new y({frustum:a,origin:u,orientation:i,_drawNearPlane:e});t=n===r._frustumType?r._frustum:void 0;return r._frustum=a.clone(t),r._frustumType=n,r._origin=c.Cartesian3.clone(u,r._origin),r._orientation=m.Quaternion.clone(i,r._orientation),r._drawNearPlane=e,r},y.createGeometry=function(e){var t=e._frustumType,r=e._frustum,a=e._origin,n=e._orientation,u=e._drawNearPlane,e=new Float64Array(24);_.FrustumGeometry._computeNearFarPlanes(a,n,t,r,e);for(var i,o,r=new h.GeometryAttributes({position:new f.GeometryAttribute({componentDatatype:d.ComponentDatatype.DOUBLE,componentsPerAttribute:3,values:e})}),c=u?2:1,s=new Uint16Array(8*(1+c)),p=u?0:1;p<2;++p)o=4*p,s[i=u?8*p:0]=o,s[i+1]=o+1,s[i+2]=o+1,s[i+3]=o+2,s[i+4]=o+2,s[i+5]=o+3,s[i+6]=o+3,s[i+7]=o;for(p=0;p<2;++p)o=4*p,s[i=8*(c+p)]=o,s[i+1]=o+4,s[i+2]=o+1,s[i+3]=o+5,s[i+4]=o+2,s[i+5]=o+6,s[i+6]=o+3,s[i+7]=o+7;return new f.Geometry({attributes:r,indices:s,primitiveType:f.PrimitiveType.LINES,boundingSphere:m.BoundingSphere.fromVertices(e)})},function(e,t){return o.defined(t)&&(e=y.unpack(e,t)),y.createGeometry(e)}});
