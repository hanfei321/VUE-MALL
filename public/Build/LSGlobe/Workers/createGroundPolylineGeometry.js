define(["./defaultValue-bcb5baf7","./DeveloperError-b273b01a","./Check-f9a1a1be","./Math-588d98f6","./Cartesian2-10213add","./Rectangle-de996bfb","./Transforms-2b063051","./Matrix4-c981b715","./RuntimeError-1b5fbc4d","./WebGLConstants-667a4a5e","./ComponentDatatype-ec1abf38","./GeometryAttribute-49fe2445","./when-ae2a7552","./buildModuleUrl-cd6b3599","./EncodedCartesian3-96cc4460","./IntersectionTests-cc1722b0","./Plane-bb97f210","./WebMercatorProjection-d1a748fe","./arrayRemoveDuplicates-f05ed775","./ArcType-90391c26","./EllipsoidRhumbLine-b25fd372","./EllipsoidGeodesic-8f6c0327"],function(B,e,a,_e,Oe,Le,Pe,i,t,n,Se,ke,r,s,Ae,G,o,l,V,j,Y,T){"use strict";function u(e){e=B.defaultValue(e,B.defaultValue.EMPTY_OBJECT),this._ellipsoid=B.defaultValue(e.ellipsoid,Le.Ellipsoid.WGS84),this._rectangle=B.defaultValue(e.rectangle,Le.Rectangle.MAX_VALUE),this._projection=new Pe.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=B.defaultValue(e.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=B.defaultValue(e.numberOfLevelZeroTilesY,1)}Object.defineProperties(u.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},type:{get:function(){return"GeographicTilingScheme"}}}),u.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e},u.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e},u.prototype.rectangleToNativeRectangle=function(e,a){var t=_e.CesiumMath.toDegrees(e.west),n=_e.CesiumMath.toDegrees(e.south),i=_e.CesiumMath.toDegrees(e.east),e=_e.CesiumMath.toDegrees(e.north);return B.defined(a)?(a.west=t,a.south=n,a.east=i,a.north=e,a):new Le.Rectangle(t,n,i,e)},u.prototype.tileXYToNativeRectangle=function(e,a,t,n){n=this.tileXYToRectangle(e,a,t,n);return n.west=_e.CesiumMath.toDegrees(n.west),n.south=_e.CesiumMath.toDegrees(n.south),n.east=_e.CesiumMath.toDegrees(n.east),n.north=_e.CesiumMath.toDegrees(n.north),n},u.prototype.tileXYToRectangle=function(e,a,t,n){var i=this._rectangle,r=this.getNumberOfXTilesAtLevel(t),s=this.getNumberOfYTilesAtLevel(t),t=i.width/r,r=e*t+i.west,e=(e+1)*t+i.west,t=i.height/s,s=i.north-a*t,t=i.north-(a+1)*t;return B.defined(n)||(n=new Le.Rectangle(r,t,e,s)),n.west=r,n.south=t,n.east=e,n.north=s,n},u.prototype.positionToTileXY=function(e,a,t){var n=this._rectangle;if(Le.Rectangle.contains(n,e)){var i=this.getNumberOfXTilesAtLevel(a),r=this.getNumberOfYTilesAtLevel(a),s=n.width/i,o=n.height/r,a=e.longitude;n.east<n.west&&(a+=_e.CesiumMath.TWO_PI);s=(a-n.west)/s|0;i<=s&&(s=i-1);o=(n.north-e.latitude)/o|0;return(r<=o&&(o=r-1),B.defined(t))?(t.x=s,t.y=o,t):new Oe.Cartesian2(s,o)}},u.prototype.toJSON=function(){var e={};return e.type=this.type,e.numberOfLevelZeroTilesX=this._numberOfLevelZeroTilesX,e.numberOfLevelZeroTilesY=this._numberOfLevelZeroTilesY,e};var c=new Oe.Cartesian3,C=new Oe.Cartesian3,p=new Oe.Cartographic,d=new Oe.Cartesian3,h=new Oe.Cartesian3,g=new Pe.BoundingSphere,f=new u,m=[new Oe.Cartographic,new Oe.Cartographic,new Oe.Cartographic,new Oe.Cartographic],w=new Oe.Cartesian2,xe={};function y(e){Oe.Cartographic.fromRadians(e.east,e.north,0,m[0]),Oe.Cartographic.fromRadians(e.west,e.north,0,m[1]),Oe.Cartographic.fromRadians(e.east,e.south,0,m[2]),Oe.Cartographic.fromRadians(e.west,e.south,0,m[3]);for(var a=0,t=0,n=0,i=0,r=xe._terrainHeightsMaxLevel,s=0;s<=r;++s){for(var o=!1,l=0;l<4;++l){var u=m[l];if(f.positionToTileXY(u,s,w),0===l)n=w.x,i=w.y;else if(n!==w.x||i!==w.y){o=!0;break}}if(o)break;a=n,t=i}if(0!==s)return{x:a,y:t,level:r<s?r:s-1}}xe.initialize=function(){var e=xe._initPromise;return B.defined(e)?e:(e=s.Resource.fetchJson(s.buildModuleUrl("Assets/approximateTerrainHeights.json")).then(function(e){xe._terrainHeights=e}),xe._initPromise=e)},xe.getMinimumMaximumHeights=function(e,a){a=B.defaultValue(a,Le.Ellipsoid.WGS84);var t=y(e),n=xe._defaultMinTerrainHeight,i=xe._defaultMaxTerrainHeight;return B.defined(t)&&(t=t.level+"-"+t.x+"-"+t.y,t=xe._terrainHeights[t],B.defined(t)&&(n=t[0],i=t[1]),a.cartographicToCartesian(Le.Rectangle.northeast(e,p),c),a.cartographicToCartesian(Le.Rectangle.southwest(e,p),C),Oe.Cartesian3.midpoint(C,c,d),a=a.scaleToGeodeticSurface(d,h),n=B.defined(a)?(a=Oe.Cartesian3.distance(d,a),Math.min(n,-a)):xe._defaultMinTerrainHeight),{minimumTerrainHeight:n=Math.max(xe._defaultMinTerrainHeight,n),maximumTerrainHeight:i}},xe.getBoundingSphere=function(e,a){a=B.defaultValue(a,Le.Ellipsoid.WGS84);var t=y(e),n=xe._defaultMaxTerrainHeight;B.defined(t)&&(i=t.level+"-"+t.x+"-"+t.y,i=xe._terrainHeights[i],B.defined(i)&&(n=i[1]));var i=Pe.BoundingSphere.fromRectangle3D(e,a,0);return Pe.BoundingSphere.fromRectangle3D(e,a,n,g),Pe.BoundingSphere.union(i,g,i)},xe._terrainHeightsMaxLevel=6,xe._defaultMaxTerrainHeight=9e3,xe._defaultMinTerrainHeight=-1e5,xe._terrainHeights=void 0,xe._initPromise=void 0,Object.defineProperties(xe,{initialized:{get:function(){return B.defined(xe._terrainHeights)}}});var X=[Pe.GeographicProjection,l.WebMercatorProjection],v=X.length,Ie=Math.cos(_e.CesiumMath.toRadians(30)),M=Math.cos(_e.CesiumMath.toRadians(150)),F=0,q=1e3;function E(e){var a=(e=B.defaultValue(e,B.defaultValue.EMPTY_OBJECT)).positions;this.width=B.defaultValue(e.width,1),this._positions=a,this.granularity=B.defaultValue(e.granularity,9999),this.loop=B.defaultValue(e.loop,!1),this.arcType=B.defaultValue(e.arcType,j.ArcType.GEODESIC),this._ellipsoid=Le.Ellipsoid.WGS84,this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(E.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+Le.Ellipsoid.packedLength+1+1}}}),E.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<v;n++)if(a instanceof X[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var b=new Oe.Cartesian3,_=new Oe.Cartesian3,O=new Oe.Cartesian3;function Z(e,a,t,n,i){var r=U(n,e,0,b),t=U(n,e,t,_),a=U(n,a,0,O),t=Ne(t,r,_),r=Ne(a,r,O);return Oe.Cartesian3.cross(r,t,i),Oe.Cartesian3.normalize(i,i)}var L=new Oe.Cartographic,P=new Oe.Cartesian3,S=new Oe.Cartesian3,k=new Oe.Cartesian3;function W(e,a,t,n,i,r,s,o,l,u,c){if(0!==i){var C;r===j.ArcType.GEODESIC?C=new T.EllipsoidGeodesic(e,a,s):r===j.ArcType.RHUMB&&(C=new Y.EllipsoidRhumbLine(e,a,s));r=C.surfaceDistance;if(!(r<i))for(var p=Z(e,a,n,s,k),i=Math.ceil(r/i),d=r/i,h=d,g=i-1,f=o.length,m=0;m<g;m++){var w=C.interpolateUsingSurfaceDistance(h,L),y=U(s,w,t,P),v=U(s,w,n,S);Oe.Cartesian3.pack(p,o,f),Oe.Cartesian3.pack(y,l,f),Oe.Cartesian3.pack(v,u,f),c.push(w.latitude),c.push(w.longitude),f+=3,h+=d}}}var A=new Oe.Cartographic;function U(e,a,t,n){return Oe.Cartographic.clone(a,A),A.height=t,Oe.Cartographic.toCartesian(A,e,n)}function Ne(e,a,t){return Oe.Cartesian3.subtract(e,a,t),Oe.Cartesian3.normalize(t,t),t}function x(e,a,t,n){return n=Ne(e,a,n),n=Oe.Cartesian3.cross(n,t,n),n=Oe.Cartesian3.normalize(n,n),n=Oe.Cartesian3.cross(t,n,n)}E.pack=function(e,a,t){var n=B.defaultValue(t,0),i=e._positions,r=i.length;a[n++]=r;for(var s=0;s<r;++s){var o=i[s];Oe.Cartesian3.pack(o,a,n),n+=3}return a[n++]=e.granularity,a[n++]=e.loop?1:0,a[n++]=e.arcType,Le.Ellipsoid.pack(e._ellipsoid,a,n),n+=Le.Ellipsoid.packedLength,a[n++]=e._projectionIndex,a[n++]=e._scene3DOnly?1:0,a},E.unpack=function(e,a,t){for(var n=B.defaultValue(a,0),i=e[n++],r=new Array(i),s=0;s<i;s++)r[s]=Oe.Cartesian3.unpack(e,n),n+=3;var o=e[n++],l=1===e[n++],u=e[n++],c=Le.Ellipsoid.unpack(e,n);n+=Le.Ellipsoid.packedLength;var C=e[n++],a=1===e[n++];return B.defined(t)||(t=new E({positions:r})),t._positions=r,t.granularity=o,t.loop=l,t.arcType=u,t._ellipsoid=c,t._projectionIndex=C,t._scene3DOnly=a,t};var I=new Oe.Cartesian3,N=new Oe.Cartesian3,R=new Oe.Cartesian3,D=new Oe.Cartesian3;function J(e,a,t,n,i){t=Ne(t,a,D),e=x(e,a,t,I),a=x(n,a,t,N);if(_e.CesiumMath.equalsEpsilon(Oe.Cartesian3.dot(e,a),-1,_e.CesiumMath.EPSILON5))return i=Oe.Cartesian3.cross(t,e,i),i=Oe.Cartesian3.normalize(i,i);i=Oe.Cartesian3.add(a,e,i),i=Oe.Cartesian3.normalize(i,i);t=Oe.Cartesian3.cross(t,i,R);return Oe.Cartesian3.dot(a,t)<0&&(i=Oe.Cartesian3.negate(i,i)),i}var Q=o.Plane.fromPointNormal(Oe.Cartesian3.ZERO,Oe.Cartesian3.UNIT_Y),K=new Oe.Cartesian3,$=new Oe.Cartesian3,ee=new Oe.Cartesian3,ae=new Oe.Cartesian3,te=new Oe.Cartesian3,ne=new Oe.Cartesian3,ie=new Oe.Cartographic,re=new Oe.Cartographic,se=new Oe.Cartographic;E.createGeometry=function(e){var a,t,n,i,r,s=!e._scene3DOnly,o=e.loop,l=e._ellipsoid,u=e.granularity,c=e.arcType,C=new X[e._projectionIndex](l),p=F,d=q,h=e._positions,g=h.length;2===g&&(o=!1);for(var f,m,w,y=new Y.EllipsoidRhumbLine(void 0,void 0,l),v=[h[0]],T=0;T<g-1;T++)t=h[T],n=h[T+1],f=G.IntersectionTests.lineSegmentPlane(t,n,Q,ne),!B.defined(f)||Oe.Cartesian3.equalsEpsilon(f,t,_e.CesiumMath.EPSILON7)||Oe.Cartesian3.equalsEpsilon(f,n,_e.CesiumMath.EPSILON7)||(e.arcType===j.ArcType.GEODESIC?v.push(Oe.Cartesian3.clone(f)):e.arcType===j.ArcType.RHUMB&&(w=l.cartesianToCartographic(f,ie).longitude,i=l.cartesianToCartographic(t,ie),r=l.cartesianToCartographic(n,re),y.setEndPoints(i,r),m=y.findIntersectionWithLongitude(w,se),f=l.cartographicToCartesian(m,ne),!B.defined(f)||Oe.Cartesian3.equalsEpsilon(f,t,_e.CesiumMath.EPSILON7)||Oe.Cartesian3.equalsEpsilon(f,n,_e.CesiumMath.EPSILON7)||v.push(Oe.Cartesian3.clone(f)))),v.push(n);o&&(t=h[g-1],n=h[0],f=G.IntersectionTests.lineSegmentPlane(t,n,Q,ne),!B.defined(f)||Oe.Cartesian3.equalsEpsilon(f,t,_e.CesiumMath.EPSILON7)||Oe.Cartesian3.equalsEpsilon(f,n,_e.CesiumMath.EPSILON7)||(e.arcType===j.ArcType.GEODESIC?v.push(Oe.Cartesian3.clone(f)):e.arcType===j.ArcType.RHUMB&&(w=l.cartesianToCartographic(f,ie).longitude,i=l.cartesianToCartographic(t,ie),r=l.cartesianToCartographic(n,re),y.setEndPoints(i,r),m=y.findIntersectionWithLongitude(w,se),f=l.cartographicToCartesian(m,ne),!B.defined(f)||Oe.Cartesian3.equalsEpsilon(f,t,_e.CesiumMath.EPSILON7)||Oe.Cartesian3.equalsEpsilon(f,n,_e.CesiumMath.EPSILON7)||v.push(Oe.Cartesian3.clone(f)))));var M=v.length,E=new Array(M);for(T=0;T<M;T++){var b=Oe.Cartographic.fromCartesian(v[T],l);b.height=0,E[T]=b}if(!((M=(E=V.arrayRemoveDuplicates(E,Oe.Cartographic.equalsEpsilon)).length)<2)){var _=[],O=[],L=[],P=[],S=K,k=$,A=ee,x=ae,I=te,N=E[0],R=E[1];for(S=U(l,E[M-1],p,S),x=U(l,R,p,x),k=U(l,N,p,k),A=U(l,N,d,A),I=o?J(S,k,A,x,I):Z(N,R,d,l,I),Oe.Cartesian3.pack(I,O,0),Oe.Cartesian3.pack(k,L,0),Oe.Cartesian3.pack(A,P,0),_.push(N.latitude),_.push(N.longitude),W(N,R,p,d,u,c,l,O,L,P,_),T=1;T<M-1;++T){S=Oe.Cartesian3.clone(k,S),k=Oe.Cartesian3.clone(x,k);var D=E[T];U(l,D,d,A),U(l,E[T+1],p,x),J(S,k,A,x,I),a=O.length,Oe.Cartesian3.pack(I,O,a),Oe.Cartesian3.pack(k,L,a),Oe.Cartesian3.pack(A,P,a),_.push(D.latitude),_.push(D.longitude),W(E[T],E[T+1],p,d,u,c,l,O,L,P,_)}var z=E[M-1],H=E[M-2],k=U(l,z,p,k),A=U(l,z,d,A);if(I=o?(R=E[0],J(S=U(l,H,p,S),k,A,x=U(l,R,p,x),I)):Z(H,z,d,l,I),a=O.length,Oe.Cartesian3.pack(I,O,a),Oe.Cartesian3.pack(k,L,a),Oe.Cartesian3.pack(A,P,a),_.push(z.latitude),_.push(z.longitude),o){for(W(z,N,p,d,u,c,l,O,L,P,_),a=O.length,T=0;T<3;++T)O[a+T]=O[T],L[a+T]=L[T],P[a+T]=P[T];_.push(N.latitude),_.push(N.longitude)}return function(e,a,t,n,i,r,s){var o,l,u,c,C,p,d=a._ellipsoid,h=t.length/3-1,g=8*h,f=4*g,m=36*h,w=new(65535<g?Uint32Array:Uint16Array)(m),y=new Float64Array(3*g),v=new Float32Array(f),T=new Float32Array(f),M=new Float32Array(f),E=new Float32Array(f),b=new Float32Array(f);s&&(u=new Float32Array(f),c=new Float32Array(f),C=new Float32Array(f),p=new Float32Array(2*g));var _=r.length/2,O=0,L=Be;L.height=0;var P=Ge;P.height=0;var S=Ve,k=je;if(s)for(l=0,o=1;o<_;o++)L.latitude=r[l],L.longitude=r[l+1],P.latitude=r[l+2],P.longitude=r[l+3],S=a.project(L,S),k=a.project(P,k),O+=Oe.Cartesian3.distance(S,k),l+=2;var A=n.length/3;k=Oe.Cartesian3.unpack(n,0,k);var x,I=0;for(l=3,o=1;o<A;o++)S=Oe.Cartesian3.clone(k,S),k=Oe.Cartesian3.unpack(n,l,k),I+=Oe.Cartesian3.distance(S,k),l+=3;l=3;var N=0,R=0,D=0,z=0,H=!1,B=Oe.Cartesian3.unpack(t,0,Xe),G=Oe.Cartesian3.unpack(n,0,je),V=Oe.Cartesian3.unpack(i,0,qe);e&&(be=Oe.Cartesian3.unpack(t,t.length-6,Ye),Re(V,be,B,G)&&(V=Oe.Cartesian3.negate(V,V)));var j,Y,X,F,q,Z,W,U=0,J=0,Q=0;for(o=0;o<h;o++){var K=Oe.Cartesian3.clone(B,Ye),$=Oe.Cartesian3.clone(G,Ve),ee=Oe.Cartesian3.clone(V,Fe);H&&(ee=Oe.Cartesian3.negate(ee,ee)),B=Oe.Cartesian3.unpack(t,l,Xe),G=Oe.Cartesian3.unpack(n,l,je),V=Oe.Cartesian3.unpack(i,l,qe),H=Re(V,K,B,G),L.latitude=r[N],L.longitude=r[N+1],P.latitude=r[N+2],P.longitude=r[N+3],s&&(Te=function(e,a){var t=Math.abs(e.longitude),n=Math.abs(a.longitude);{if(_e.CesiumMath.equalsEpsilon(t,_e.CesiumMath.PI,_e.CesiumMath.EPSILON11)){var i=_e.CesiumMath.sign(a.longitude);return e.longitude=i*(t-_e.CesiumMath.EPSILON11),1}if(_e.CesiumMath.equalsEpsilon(n,_e.CesiumMath.PI,_e.CesiumMath.EPSILON11)){e=_e.CesiumMath.sign(e.longitude);return a.longitude=e*(n-_e.CesiumMath.EPSILON11),2}}return 0}(L,P),j=a.project(L,$e),(pe=Ne(Y=a.project(P,ea),j,Ca)).y=Math.abs(pe.y),X=aa,F=ta,0===Te||Oe.Cartesian3.dot(pe,Oe.Cartesian3.UNIT_Y)>Ie?(X=De(a,L,ee,j,aa),F=De(a,P,V,Y,ta)):1===Te?(F=De(a,P,V,Y,ta),X.x=0,X.y=_e.CesiumMath.sign(L.longitude-Math.abs(P.longitude)),X.z=0):(X=De(a,L,ee,j,aa),F.x=0,F.y=_e.CesiumMath.sign(L.longitude-P.longitude),F.z=0));var ae=Oe.Cartesian3.distance($,G),te=Ae.EncodedCartesian3.fromCartesian(K,ua),ne=Oe.Cartesian3.subtract(B,K,na),ie=Oe.Cartesian3.normalize(ne,sa),re=Oe.Cartesian3.subtract($,K,ia);re=Oe.Cartesian3.normalize(re,re);var se=Oe.Cartesian3.cross(ie,re,sa);se=Oe.Cartesian3.normalize(se,se);var oe=Oe.Cartesian3.cross(re,ee,oa);oe=Oe.Cartesian3.normalize(oe,oe);var le=Oe.Cartesian3.subtract(G,B,ra);le=Oe.Cartesian3.normalize(le,le);var ue=Oe.Cartesian3.cross(V,le,la);ue=Oe.Cartesian3.normalize(ue,ue);var ce=ae/I,Ce=U/I,pe=0,de=0,he=0;for(s&&(pe=Oe.Cartesian3.distance(j,Y),q=Ae.EncodedCartesian3.fromCartesian(j,ca),Z=Oe.Cartesian3.subtract(Y,j,Ca),Me=(W=Oe.Cartesian3.normalize(Z,pa)).x,W.x=W.y,W.y=-Me,de=pe/O,he=J/O),x=0;x<8;x++){var ge=z+4*x,fe=R+2*x,me=ge+3,we=x<4?1:-1,ye=2===x||3===x||6===x||7===x?1:-1;Oe.Cartesian3.pack(te.high,v,ge),v[me]=ne.x,Oe.Cartesian3.pack(te.low,T,ge),T[me]=ne.y,Oe.Cartesian3.pack(oe,M,ge),M[me]=ne.z,Oe.Cartesian3.pack(ue,E,ge),E[me]=ce*we,Oe.Cartesian3.pack(se,b,ge);var ve=Ce*ye;0===ve&&ye<0&&(ve=9),b[me]=ve,s&&(u[ge]=q.high.x,u[ge+1]=q.high.y,u[ge+2]=q.low.x,u[ge+3]=q.low.y,C[ge]=-X.y,C[ge+1]=X.x,C[ge+2]=F.y,C[ge+3]=-F.x,c[ge]=Z.x,c[ge+1]=Z.y,c[ge+2]=W.x,c[ge+3]=W.y,p[fe]=de*we,0===(ve=he*ye)&&ye<0&&(ve=9),p[fe+1]=ve)}var Te=Qe,ie=Ke,re=Ue,ee=Je,le=Le.Rectangle.fromCartographicArray(Ze,We),Me=xe.getMinimumMaximumHeights(le,d),le=Me.minimumTerrainHeight,Me=Me.maximumTerrainHeight;Q+=le,Q+=Me,ze(K,$,le,Me,Te,re),ze(B,G,le,Me,ie,ee);Me=Oe.Cartesian3.multiplyByScalar(se,_e.CesiumMath.EPSILON5,da);Oe.Cartesian3.add(Te,Me,Te),Oe.Cartesian3.add(ie,Me,ie),Oe.Cartesian3.add(re,Me,re),Oe.Cartesian3.add(ee,Me,ee),He(Te,ie),He(re,ee),Oe.Cartesian3.pack(Te,y,D),Oe.Cartesian3.pack(ie,y,D+3),Oe.Cartesian3.pack(ee,y,D+6),Oe.Cartesian3.pack(re,y,D+9),Me=Oe.Cartesian3.multiplyByScalar(se,-2*_e.CesiumMath.EPSILON5,da),Oe.Cartesian3.add(Te,Me,Te),Oe.Cartesian3.add(ie,Me,ie),Oe.Cartesian3.add(re,Me,re),Oe.Cartesian3.add(ee,Me,ee),He(Te,ie),He(re,ee),Oe.Cartesian3.pack(Te,y,D+12),Oe.Cartesian3.pack(ie,y,D+15),Oe.Cartesian3.pack(ee,y,D+18),Oe.Cartesian3.pack(re,y,D+21),N+=2,l+=3,R+=16,D+=24,z+=32,U+=ae,J+=pe}var Ee=l=0;for(o=0;o<h;o++){for(x=0;x<fa;x++)w[l+x]=ga[x]+Ee;Ee+=8,l+=fa}e=ha;Pe.BoundingSphere.fromVertices(t,Oe.Cartesian3.ZERO,3,e[0]),Pe.BoundingSphere.fromVertices(n,Oe.Cartesian3.ZERO,3,e[1]);var be=Pe.BoundingSphere.fromBoundingSpheres(e);be.radius+=Q/(2*h);e={position:new ke.GeometryAttribute({componentDatatype:Se.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:y}),startHiAndForwardOffsetX:ma(v),startLoAndForwardOffsetY:ma(T),startNormalAndForwardOffsetZ:ma(M),endNormalAndTextureCoordinateNormalizationX:ma(E),rightNormalAndTextureCoordinateNormalizationY:ma(b)};s&&(e.startHiLo2D=ma(u),e.offsetAndRight2D=ma(c),e.startEndNormals2D=ma(C),e.texcoordNormalization2D=new ke.GeometryAttribute({componentDatatype:Se.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:p}));return new ke.Geometry({attributes:e,indices:w,boundingSphere:be})}(o,C,L,P,O,_,s)}};var z=new Oe.Cartesian3,H=new i.Matrix3,oe=new Pe.Quaternion;function Re(e,a,t,n){a=Ne(t,a,z),a=Oe.Cartesian3.dot(a,e);if(Ie<a||a<M){t=Ne(n,t,D),a=a<M?_e.CesiumMath.PI_OVER_TWO:-_e.CesiumMath.PI_OVER_TWO,a=Pe.Quaternion.fromAxisAngle(t,a,oe),a=i.Matrix3.fromQuaternion(a,H);return i.Matrix3.multiplyByVector(a,e,e),!0}return!1}var le=new Oe.Cartographic,ue=new Oe.Cartesian3,ce=new Oe.Cartesian3;function De(e,a,t,n,i){var r=Oe.Cartographic.toCartesian(a,e._ellipsoid,ue),s=Oe.Cartesian3.add(r,t,ce),o=!1,l=e._ellipsoid,u=l.cartesianToCartographic(s,le);Math.abs(a.longitude-u.longitude)>_e.CesiumMath.PI_OVER_TWO&&(o=!0,s=Oe.Cartesian3.subtract(r,t,ce),u=l.cartesianToCartographic(s,le)),u.height=0;u=e.project(u,i);return(i=Oe.Cartesian3.subtract(u,n,i)).z=0,i=Oe.Cartesian3.normalize(i,i),o&&Oe.Cartesian3.negate(i,i),i}var Ce=new Oe.Cartesian3,pe=new Oe.Cartesian3;function ze(e,a,t,n,i,r){var s=Oe.Cartesian3.subtract(a,e,Ce);Oe.Cartesian3.normalize(s,s);t-=F,t=Oe.Cartesian3.multiplyByScalar(s,t,pe);Oe.Cartesian3.add(e,t,i);n-=q,t=Oe.Cartesian3.multiplyByScalar(s,n,pe);Oe.Cartesian3.add(a,t,r)}var de=new Oe.Cartesian3;function He(e,a){var t=o.Plane.getPointDistance(Q,e),n=o.Plane.getPointDistance(Q,a),i=de;_e.CesiumMath.equalsEpsilon(t,0,_e.CesiumMath.EPSILON2)?(i=Ne(a,e,i),Oe.Cartesian3.multiplyByScalar(i,_e.CesiumMath.EPSILON2,i),Oe.Cartesian3.add(e,i,e)):_e.CesiumMath.equalsEpsilon(n,0,_e.CesiumMath.EPSILON2)&&(i=Ne(e,a,i),Oe.Cartesian3.multiplyByScalar(i,_e.CesiumMath.EPSILON2,i),Oe.Cartesian3.add(a,i,a))}var Be=new Oe.Cartographic,Ge=new Oe.Cartographic,Ve=new Oe.Cartesian3,je=new Oe.Cartesian3,Ye=new Oe.Cartesian3,Xe=new Oe.Cartesian3,Fe=new Oe.Cartesian3,qe=new Oe.Cartesian3,Ze=[Be,Ge],We=new Le.Rectangle,Ue=new Oe.Cartesian3,Je=new Oe.Cartesian3,Qe=new Oe.Cartesian3,Ke=new Oe.Cartesian3,$e=new Oe.Cartesian3,ea=new Oe.Cartesian3,aa=new Oe.Cartesian3,ta=new Oe.Cartesian3,na=new Oe.Cartesian3,ia=new Oe.Cartesian3,ra=new Oe.Cartesian3,sa=new Oe.Cartesian3,oa=new Oe.Cartesian3,la=new Oe.Cartesian3,ua=new Ae.EncodedCartesian3,ca=new Ae.EncodedCartesian3,Ca=new Oe.Cartesian3,pa=new Oe.Cartesian3,da=new Oe.Cartesian3,ha=[new Pe.BoundingSphere,new Pe.BoundingSphere],ga=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],fa=ga.length;function ma(e){return new ke.GeometryAttribute({componentDatatype:Se.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return E._projectNormal=De,function(e,a){return xe.initialize().then(function(){return B.defined(a)&&(e=E.unpack(e,a)),E.createGeometry(e)})}});
