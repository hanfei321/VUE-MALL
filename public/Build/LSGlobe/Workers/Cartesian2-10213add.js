define(["exports","./defaultValue-bcb5baf7","./DeveloperError-b273b01a","./Check-f9a1a1be","./Math-588d98f6"],function(e,b,i,n,S){"use strict";function A(e,n,t){this.x=b.defaultValue(e,0),this.y=b.defaultValue(n,0),this.z=b.defaultValue(t,0)}A.fromSpherical=function(e,n){b.defined(n)||(n=new A);var t=e.clock,r=e.cone,a=b.defaultValue(e.magnitude,1),e=a*Math.sin(r);return n.x=e*Math.cos(t),n.y=e*Math.sin(t),n.z=a*Math.cos(r),n},A.fromElements=function(e,n,t,r){return b.defined(r)?(r.x=e,r.y=n,r.z=t,r):new A(e,n,t)},A.fromCartesian4=A.clone=function(e,n){if(b.defined(e))return b.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n):new A(e.x,e.y,e.z)},A.packedLength=3,A.pack=function(e,n,t){return t=b.defaultValue(t,0),n[t++]=e.x,n[t++]=e.y,n[t]=e.z,n},A.unpack=function(e,n,t){return n=b.defaultValue(n,0),b.defined(t)||(t=new A),t.x=e[n++],t.y=e[n++],t.z=e[n],t},A.packArray=function(e,n){var t=e.length,r=3*t;if(b.defined(n)){if(!Array.isArray(n)&&n.length!==r)throw new i.DeveloperError("If result is a typed array, it must have exactly array.length * 3 elements");n.length!==r&&(n.length=r)}else n=new Array(r);for(var a=0;a<t;++a)A.pack(e[a],n,3*a);return n},A.unpackArray=function(e,n){var t=e.length;b.defined(n)?n.length=t/3:n=new Array(t/3);for(var r=0;r<t;r+=3){var a=r/3;n[a]=A.unpack(e,r,n[a])}return n},A.fromArray=A.unpack,A.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},A.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},A.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t},A.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t},A.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},A.magnitude=function(e){return Math.sqrt(A.magnitudeSquared(e))};var t=new A;A.distance=function(e,n){return A.subtract(e,n,t),A.magnitude(t)},A.distanceSquared=function(e,n){return A.subtract(e,n,t),A.magnitudeSquared(t)},A.normalize=function(e,n){var t=A.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},A.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z},A.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t},A.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t},A.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t},A.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t},A.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},A.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},A.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n},A.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};var a=new A;A.lerp=function(e,n,t,r){return A.multiplyByScalar(n,t,a),r=A.multiplyByScalar(e,1-t,r),A.add(a,r,r)};var r=new A,u=new A;A.angleBetween=function(e,n){A.normalize(e,r),A.normalize(n,u);e=A.dot(r,u),n=A.magnitude(A.cross(r,u,r));return Math.atan2(n,e)};var o=new A;A.mostOrthogonalAxis=function(e,n){e=A.normalize(e,o);return A.abs(e,e),n=e.x<=e.y?e.x<=e.z?A.clone(A.UNIT_X,n):A.clone(A.UNIT_Z,n):e.y<=e.z?A.clone(A.UNIT_Y,n):A.clone(A.UNIT_Z,n)},A.projectVector=function(e,n,t){e=A.dot(e,n)/A.dot(n,n);return A.multiplyByScalar(n,e,t)},A.equals=function(e,n){return e===n||b.defined(e)&&b.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z},A.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]&&e.z===n[t+2]},A.equalsEpsilon=function(e,n,t,r){return e===n||b.defined(e)&&b.defined(n)&&S.CesiumMath.equalsEpsilon(e.x,n.x,t,r)&&S.CesiumMath.equalsEpsilon(e.y,n.y,t,r)&&S.CesiumMath.equalsEpsilon(e.z,n.z,t,r)},A.cross=function(e,n,t){var r=e.x,a=e.y,i=e.z,u=n.x,o=n.y,e=n.z,n=a*e-i*o,e=i*u-r*e,u=r*o-a*u;return t.x=n,t.y=e,t.z=u,t},A.midpoint=function(e,n,t){return t.x=.5*(e.x+n.x),t.y=.5*(e.y+n.y),t.z=.5*(e.z+n.z),t},A.fromDegrees=function(e,n,t,r,a){return e=S.CesiumMath.toRadians(e),n=S.CesiumMath.toRadians(n),A.fromRadians(e,n,t,r,a)};var l=new A,d=new A,f=new A(40680631590769,40680631590769,40408299984661.445);A.fromRadians=function(e,n,t,r,a){t=b.defaultValue(t,0);var i=b.defined(r)?r.radiiSquared:f,r=Math.cos(n);l.x=r*Math.cos(e),l.y=r*Math.sin(e),l.z=Math.sin(n),l=A.normalize(l,l),A.multiplyComponents(i,l,d);i=Math.sqrt(A.dot(l,d));return d=A.divideByScalar(d,i,d),l=A.multiplyByScalar(l,t,l),b.defined(a)||(a=new A),A.add(d,l,a)},A.fromDegreesArray=function(e,n,t){var r=e.length;b.defined(t)?t.length=r/2:t=new Array(r/2);for(var a=0;a<r;a+=2){var i=e[a],u=e[a+1],o=a/2;t[o]=A.fromDegrees(i,u,0,n,t[o])}return t},A.fromRadiansArray=function(e,n,t){var r=e.length;b.defined(t)?t.length=r/2:t=new Array(r/2);for(var a=0;a<r;a+=2){var i=e[a],u=e[a+1],o=a/2;t[o]=A.fromRadians(i,u,0,n,t[o])}return t},A.fromDegreesArrayHeights=function(e,n,t){var r=e.length;b.defined(t)?t.length=r/3:t=new Array(r/3);for(var a=0;a<r;a+=3){var i=e[a],u=e[a+1],o=e[a+2],l=a/3;t[l]=A.fromDegrees(i,u,o,n,t[l])}return t},A.fromRadiansArrayHeights=function(e,n,t){var r=e.length;b.defined(t)?t.length=r/3:t=new Array(r/3);for(var a=0;a<r;a+=3){var i=e[a],u=e[a+1],o=e[a+2],l=a/3;t[l]=A.fromRadians(i,u,o,n,t[l])}return t},A.ZERO=Object.freeze(new A(0,0,0)),A.UNIT_X=Object.freeze(new A(1,0,0)),A.UNIT_Y=Object.freeze(new A(0,1,0)),A.UNIT_Z=Object.freeze(new A(0,0,1)),A.prototype.clone=function(e){return A.clone(this,e)},A.prototype.equals=function(e){return A.equals(this,e)},A.prototype.equalsEpsilon=function(e,n,t){return A.equalsEpsilon(this,e,n,t)},A.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"};var E=new A,k=new A;function y(e,n,t,r,a){var i=e.x,u=e.y,o=e.z,l=n.x,d=n.y,n=n.z,f=i*i*l*l,y=u*u*d*d,c=o*o*n*n,l=f+y+c,d=Math.sqrt(1/l),n=A.multiplyByScalar(e,d,E);if(l<r)return isFinite(d)?A.clone(n,a):void 0;var s=t.x,m=t.y,h=t.z,t=k;t.x=n.x*s*2,t.y=n.y*m*2,t.z=n.z*h*2;var x,p,g,z,v,w,M,q=(1-d)*A.magnitude(e)/(.5*A.magnitude(t)),C=0;do{C=(x=f*(v=(p=1/(1+(q-=C)*s))*p)+y*(w=(g=1/(1+q*m))*g)+c*(M=(z=1/(1+q*h))*z)-1)/(-2*(f*(v*p)*s+y*(w*g)*m+c*(M*z)*h))}while(Math.abs(x)>S.CesiumMath.EPSILON12);return b.defined(a)?(a.x=i*p,a.y=u*g,a.z=o*z,a):new A(i*p,u*g,o*z)}function c(e,n,t){this.longitude=b.defaultValue(e,0),this.latitude=b.defaultValue(n,0),this.height=b.defaultValue(t,0)}c.fromRadians=function(e,n,t,r){return t=b.defaultValue(t,0),b.defined(r)?(r.longitude=e,r.latitude=n,r.height=t,r):new c(e,n,t)},c.fromDegrees=function(e,n,t,r){return e=S.CesiumMath.toRadians(e),n=S.CesiumMath.toRadians(n),c.fromRadians(e,n,t,r)};var s=new A,m=new A,h=new A,x=new A(1/6378137,1/6378137,1/6356752.314245179),p=new A(1/40680631590769,1/40680631590769,1/40408299984661.445),g=S.CesiumMath.EPSILON1;function z(e,n){this.x=b.defaultValue(e,0),this.y=b.defaultValue(n,0)}c.fromCartesian=function(e,n,t){var r=b.defined(n)?n.oneOverRadii:x,a=b.defined(n)?n.oneOverRadiiSquared:p,r=y(e,r,a,b.defined(n)?n._centerToleranceSquared:g,m);if(b.defined(r)){n=A.multiplyComponents(r,a,s),n=A.normalize(n,n),a=A.subtract(e,r,h),r=Math.atan2(n.y,n.x),n=Math.asin(n.z),a=S.CesiumMath.sign(A.dot(a,e))*A.magnitude(a);return b.defined(t)?(t.longitude=r,t.latitude=n,t.height=a,t):new c(r,n,a)}},c.toCartesian=function(e,n,t){return A.fromRadians(e.longitude,e.latitude,e.height,n,t)},c.clone=function(e,n){if(b.defined(e))return b.defined(n)?(n.longitude=e.longitude,n.latitude=e.latitude,n.height=e.height,n):new c(e.longitude,e.latitude,e.height)},c.equals=function(e,n){return e===n||b.defined(e)&&b.defined(n)&&e.longitude===n.longitude&&e.latitude===n.latitude&&e.height===n.height},c.equalsEpsilon=function(e,n,t){return t=b.defaultValue(t,0),e===n||b.defined(e)&&b.defined(n)&&Math.abs(e.longitude-n.longitude)<=t&&Math.abs(e.latitude-n.latitude)<=t&&Math.abs(e.height-n.height)<=t},c.ZERO=Object.freeze(new c(0,0,0)),c.prototype.clone=function(e){return c.clone(this,e)},c.prototype.equals=function(e){return c.equals(this,e)},c.prototype.equalsEpsilon=function(e,n){return c.equalsEpsilon(this,e,n)},c.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},z.fromElements=function(e,n,t){return b.defined(t)?(t.x=e,t.y=n,t):new z(e,n)},z.fromCartesian3=z.clone=function(e,n){if(b.defined(e))return b.defined(n)?(n.x=e.x,n.y=e.y,n):new z(e.x,e.y)},z.fromCartesian4=z.clone,z.packedLength=2,z.pack=function(e,n,t){return t=b.defaultValue(t,0),n[t++]=e.x,n[t]=e.y,n},z.unpack=function(e,n,t){return n=b.defaultValue(n,0),b.defined(t)||(t=new z),t.x=e[n++],t.y=e[n],t},z.packArray=function(e,n){var t=e.length,r=2*t;if(b.defined(n)){if(!Array.isArray(n)&&n.length!==r)throw new i.DeveloperError("If result is a typed array, it must have exactly array.length * 2 elements");n.length!==r&&(n.length=r)}else n=new Array(r);for(var a=0;a<t;++a)z.pack(e[a],n,2*a);return n},z.unpackArray=function(e,n){var t=e.length;b.defined(n)?n.length=t/2:n=new Array(t/2);for(var r=0;r<t;r+=2){var a=r/2;n[a]=z.unpack(e,r,n[a])}return n},z.fromArray=z.unpack,z.maximumComponent=function(e){return Math.max(e.x,e.y)},z.minimumComponent=function(e){return Math.min(e.x,e.y)},z.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t},z.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t},z.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},z.magnitude=function(e){return Math.sqrt(z.magnitudeSquared(e))};var v=new z;z.distance=function(e,n){return z.subtract(e,n,v),z.magnitude(v)},z.distanceSquared=function(e,n){return z.subtract(e,n,v),z.magnitudeSquared(v)},z.normalize=function(e,n){var t=z.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n},z.dot=function(e,n){return e.x*n.x+e.y*n.y},z.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t},z.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t},z.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t},z.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t},z.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t},z.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t},z.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n},z.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n};var w=new z;z.lerp=function(e,n,t,r){return z.multiplyByScalar(n,t,w),r=z.multiplyByScalar(e,1-t,r),z.add(w,r,r)};var M=new z,q=new z;z.angleBetween=function(e,n){return z.normalize(e,M),z.normalize(n,q),S.CesiumMath.acosClamped(z.dot(M,q))};var C=new z;z.mostOrthogonalAxis=function(e,n){e=z.normalize(e,C);return z.abs(e,e),n=e.x<=e.y?z.clone(z.UNIT_X,n):z.clone(z.UNIT_Y,n)},z.equals=function(e,n){return e===n||b.defined(e)&&b.defined(n)&&e.x===n.x&&e.y===n.y},z.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]},z.equalsEpsilon=function(e,n,t,r){return e===n||b.defined(e)&&b.defined(n)&&S.CesiumMath.equalsEpsilon(e.x,n.x,t,r)&&S.CesiumMath.equalsEpsilon(e.y,n.y,t,r)},z.ZERO=Object.freeze(new z(0,0)),z.UNIT_X=Object.freeze(new z(1,0)),z.UNIT_Y=Object.freeze(new z(0,1)),z.prototype.clone=function(e){return z.clone(this,e)},z.prototype.equals=function(e){return z.equals(this,e)},z.prototype.equalsEpsilon=function(e,n,t){return z.equalsEpsilon(this,e,n,t)},z.prototype.toString=function(){return"("+this.x+", "+this.y+")"},e.Cartesian2=z,e.Cartesian3=A,e.Cartographic=c,e.scaleToGeodeticSurface=y});
